---
/* admin/oauth/callback.html v1.0.0_202510250840 */
layout: none
---
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Logging in...</title>
    <style>
      body {
        font-family: sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background-color: #f9f9f9;
        color: #333;
      }
      .container {
        text-align: center;
        padding: 20px;
        border: 1px solid #eee;
        border-radius: 8px;
        background: #fff;
      }
      .spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #00bfa5;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        animation: spin 1s linear infinite;
        margin: 0 auto 15px auto;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="spinner"></div>
      <h1>Logging in...</h1>
      <p>Please wait while we authenticate you.</p>
    </div>

    <script>
      /*
       * 이 페이지는 GitHub OAuth 콜백을 처리합니다.
       * URL에서 'code'를 파싱하여 부모 창(Admin 페이지)으로 전송합니다.
       * 부모 창의 github-api.js가 이 코드를 받아 처리를 계속합니다.
       */
      (function () {
        const params = new URLSearchParams(window.location.search);
        const code = params.get('code');
        const error = params.get('error');

        if (window.opener) {
          window.opener.postMessage(
            { type: 'oauth-callback', code: code, error: error },
            window.location.origin,
          );
        }

        // 창을 바로 닫아 사용자 경험을 향상시킵니다.
        window.close();
      })();
    </script>
  </body>
</html>
