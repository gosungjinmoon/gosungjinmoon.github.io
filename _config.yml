# ============================================
# ✅ GOFUNWITH Blog Configuration (Stable i18n + Chirpy)
# ============================================

theme: jekyll-theme-chirpy

# --- 기본 언어 설정 ---
lang: ko
langs: ["ko", "en"]
timezone: Asia/Seoul

title: "GOFUNWITH Blog"
tagline: "Explore. Create. Share."
description: "기술, DIY, 삶에 대한 즐거운 탐험과 창조의 기록"

url: "https://blog.gofunwith.com"
baseurl: ""

brand: "GOFUNWITH – Explore. Create. Share."
domain: "blog.gofunwith.com"

# --- 프로필 / 소셜 ---
github:
  username: gosungjinmoon

analytics:
  google:
    id: "G-R7N7G7QPBF"
  cloudflare:
    id: "c7db8999eee4466bab1893a2361aed10"

avatar: /assets/img/logo-light.svg
favicon: /assets/img/favicon.svg

# --- 댓글 (Giscus) ---
comments:
  provider: giscus
  giscus:
    repo: gosungjinmoon/gosungjinmoon.github.io
    repo_id: "R_kgDOQODShw"
    category: "Show and tell"
    category_id: "DIC_kwDOQODSh84CxYII"
    mapping: "pathname"
    strict: "0"
    input_position: "bottom"
    lang: "ko"
    reactions_enabled: "1"

# --- 페이지네이션 ---
paginate: 10

# --- 탭 컬렉션 (About, Tags 등) ---
collections:
  tabs:
    output: true
    sort_by: order

# --- 플러그인 ---
plugins:
  - jekyll-seo-tag
  - jekyll-feed
  - jekyll-sitemap
  - jekyll-archives

# --- 아카이브 설정 ---
jekyll-archives:
  enabled:
    - tags
    - categories
  layouts:
    tag: tag
    category: category
  permalinks:
    tag: /tags/:name/
    category: /categories/:name/

# --- HTML 압축 ---
compress_html:
  clippings: all
  comments: all
  endings: all
  blanklines: false
  ignore:
    envs: [development]

# --- permalink 구조 ---
# (lang 누락 시 기본 ko를 자동 주입)
permalink: /:lang/:title/

defaults:
  - scope:
      path: ""
      type: posts
    values:
      layout: post
      lang: ko
      comments: true
      toc: true

  - scope:
      path: "_posts/ko"
      type: posts
    values:
      lang: ko
      permalink: /ko/:title/
      layout: post

  - scope:
      path: "_posts/en"
      type: posts
    values:
      lang: en
      permalink: /en/:title/
      layout: post

  - scope:
      path: ""
      type: tabs
    values:
      layout: page
      permalink: /:title/

# --- SASS & 압축 설정 ---
sass:
  style: compressed

# --- 제외할 파일 ---
exclude:
  - "*.gem"
  - "*.gemspec"
  - docs
  - tools
  - README.md
  - LICENSE
  - purgecss.js
  - "*.config.js"
  - "package*.json"
  - "node_modules"
  - "vendor"
  - "_site"

# --- 빌드 환경 ---
markdown: kramdown
kramdown:
  input: GFM
