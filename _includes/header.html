<header class="site-header">
  <a class="brand" href="{{ page.lang == 'en' ? '/en/' : '/ko/' }}">
    <picture>
      <source srcset="/assets/logo/logo-dark.svg" media="(prefers-color-scheme: dark)">
      <img src="/assets/logo/logo-light.svg" alt="GOFUNWITH" height="28">
    </picture>
    <span class="brand-name">GOFUNWITH Blog</span>
  </a>

  <nav class="site-nav">
    <a href="{{ page.lang == 'en' ? '/en/search/' : '/ko/search/' }}">Search</a>
    <a href="{{ page.lang == 'en' ? '/en/tags/' : '/ko/tags/' }}">Tags</a>
    {% include lang-switch.html %}
    <button id="themeToggle" class="theme-toggle" title="Toggle theme">Light/Dark</button>
  </nav>
</header>

<script>
(function(){
  const key = 'gfw-theme';
  const btn = document.getElementById('themeToggle');
  const apply = (m)=>document.documentElement.dataset.theme = m;
  const saved = localStorage.getItem(key);
  if(saved) apply(saved);

  btn?.addEventListener('click', ()=>{
    const cur = document.documentElement.dataset.theme || 'light';
    const next = cur === 'light' ? 'dark' : 'light';
    localStorage.setItem(key, next);
    apply(next);
  });
})();
</script>
