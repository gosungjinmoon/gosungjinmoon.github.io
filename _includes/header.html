<!-- header.html vA_restore -->
<header class="site-header">
  <div class="wrap">
    <a class="brand" href="{{ '/' | absolute_url }}" aria-label="GOFUNWITH Home">
      <img class="logo light" src="{{ '/assets/logo/logo-light.svg' | relative_url }}" alt="GOFUNWITH" />
      <img class="logo dark" src="{{ '/assets/logo/logo-dark.svg' | relative_url }}" alt="GOFUNWITH" />
    </a>
    <nav class="site-nav">
      <a href="{{ site.url | append: site.baseurl | append: '/' }}{% if page.lang == 'en' %}en/{% endif %}search/">Search</a>
      <a href="{{ site.url | append: site.baseurl | append: '/' }}{% if page.lang == 'en' %}en/{% endif %}tags/">Tags</a>
      {% include lang-switch.html %}
      <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">Light/Dark</button>
    </nav>
  </div>
</header>
<script>
(function(){
  const key='gfw.theme';
  const root=document.documentElement;
  const preferDark=window.matchMedia('(prefers-color-scheme: dark)').matches;
  const saved=localStorage.getItem(key);
  const theme=saved||(preferDark?'dark':'light');
  root.dataset.theme=theme;
  document.getElementById('themeToggle')?.addEventListener('click',()=>{
    const next=(root.dataset.theme==='dark')?'light':'dark';
    root.dataset.theme=next;
    localStorage.setItem(key,next);
  });
})();
</script>
<style>
.logo.dark{display:none}
[data-theme="dark"] .logo.light{display:none}
[data-theme="dark"] .logo.dark{display:inline}
.site-header{position:sticky;top:0;z-index:10;background:var(--bg,#fff)}
.wrap{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.75rem 1rem}
.site-nav a,.theme-toggle{margin-left:.75rem}
</style>
