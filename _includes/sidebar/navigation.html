
{%- assign current_lang = page.lang | default: site.lang | default: 'ko' -%}
<ul class="nav flex-column">
  {% for item in site.data.navigation.main %}
    {% assign base = item.url %}
    {% if base == "/" %}
      {% assign localized = "/" | append: current_lang | append: "/" %}
    {% else %}
      {% assign base_clean = base %}
      {% if base_clean contains '/ko/' %}
        {% assign base_clean = base_clean | remove_first: '/ko' %}
      {% elsif base_clean contains '/en/' %}
        {% assign base_clean = base_clean | remove_first: '/en' %}
      {% endif %}
      {% assign localized = '/' | append: current_lang | append: base_clean %}
    {% endif %}
    <li class="nav-item{% if page.url == localized %} active{% endif %}">
      <a class="nav-link" href="{{ localized | relative_url }}">{{ item.title }}</a>
    </li>
  {% endfor %}
</ul>
<div class="mt-3 small opacity-75">
  <a href="/ko{{ page.url | remove_first: '/en' }}">한국어</a> ·
  <a href="/en{{ page.url | remove_first: '/ko' }}">English</a>
</div>
