{%- assign current_lang = page.lang | default: site.lang | default: 'ko' -%}
<nav id="sidebar" class="sidebar">
  <ul class="sidebar-nav list-unstyled">
    {% for item in site.data.navigation.main %}
      {% assign localized_url = item.url | prepend: '/' | prepend: current_lang %}
      <li class="nav-item{% if page.url contains item.url %} active{% endif %}">
        <a href="{{ localized_url | relative_url }}">{{ item.title }}</a>
      </li>
    {% endfor %}
  </ul>

  <div class="language-switch">
    <a href="/ko{{ page.url | remove_first: '/en' }}">한국어</a> |
    <a href="/en{{ page.url | remove_first: '/ko' }}">English</a>
  </div>
</nav>
