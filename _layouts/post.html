---
layout: default
---

{% assign posts_in_lang = site.posts | where: "lang", page.lang | sort: "date" %}
{% for post in posts_in_lang %}
  {% if post.url == page.url %}
    {% assign post_index = forloop.index0 %}
    {% assign prev_post = posts_in_lang[post_index | minus: 1] %}
    {% assign next_post = posts_in_lang[post_index | plus: 1] %}
  {% endif %}
{% endfor %}

<div class="row">
  <div id="main-post" class="col-12 col-lg-11 col-xl-8">
    <div id="post" class="post">
      <article>
        <header>
          <h1 data-toc-skip>{{ page.title }}</h1>
          <div class="post-meta text-muted">
            <span>Posted {{ page.date | date: "%b %d, %Y" }} By {{ site.social.name }}</span>
            {% if page.ref %}
              <div class="lang-switcher">
                {% assign translations = site.posts | where: "ref", page.ref %}
                {% for t in translations %}
                  <a href="{{ t.url | relative_url }}" class="lang-btn {% if page.lang == t.lang %}active{% endif %}">
                    {{ t.lang | upcase }}
                  </a>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </header>
        <div class="post-content">
          {{ content }}
        </div>
        <!-- ... post footer, tags, etc. ... -->
      </article>
    </div>
    
    <!-- Older/Newer Post Navigation (언어 필터링 적용) -->
    <div class="post-navigation">
      {% if next_post %}
        <a href="{{ next_post.url | relative_url }}" class="btn btn-outline-primary"
          data-bs-toggle="tooltip" data-bs-placement="top" title="{{ next_post.title }}">
          <i class="fas fa-chevron-left"></i>
          <span>Newer</span>
        </a>
      {% endif %}
      {% if prev_post %}
        <a href="{{ prev_post.url | relative_url }}" class="btn btn-outline-primary"
          data-bs-toggle="tooltip" data-bs-placement="top" title="{{ prev_post.title }}">
          <span>Older</span>
          <i class="fas fa-chevron-right"></i>
        </a>
      {% endif %}
    </div>
  </div>

  <div id="post-toc-wrapper" class="col-2 d-none d-xl-block">
    <!-- Table of Contents will be here -->
  </div>
</div>
