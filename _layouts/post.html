---
layout: default
---

<div class="row">
  <div id="main-post" class="col-12 col-lg-11 col-xl-8">
    <div id="post" class="post">
      {%- capture _content -%}
        {%- include_cached post-lastmod.html -%}
        {%- include_cached post-pv.html -%}
        {{ content }}
      {%- endcapture -%}
      {%- include post.html content=_content -%}
    </div>
    <div id="post-extend-wrapper" class="d-flex justify-content-between">
      {%- include post-sharing.html -%}
      {%- include post-nav.html -%}
    </div>
    {%- include related-posts.html -%}
    {%- include comments.html -%}
  </div>

  <div id="post-toc-wrapper" class="col-2 d-none d-xl-block">
    <div class="toc-wrapper">
      {%- include toc.html -%}
    </div>
  </div>
</div>

<script>
  (function() {
    const origin = document.querySelector("#main-post > div.post > article > header");
    if (origin) {
      const switcher = `
        {% if page.ref %}
          <div class="lang-switcher ms-auto">
            <span>Read in:</span>
            {% assign translations = site.posts | where: "ref", page.ref %}
            {% for t in translations %}
              {% if t.lang != page.lang %}
                <a href="{{ t.url | relative_url }}" class="lang-btn">{{ t.lang | upcase }}</a>
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}`;
      origin.insertAdjacentHTML('beforeend', switcher);
    }
  }());
</script>
