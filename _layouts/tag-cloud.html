<div class="tag-cloud">
  <h3>Tags</h3>
  {% assign current_lang = page.lang | default: 'ko' %}
  
  {% if current_lang == 'en' %}
    {% assign tag_base_path = '/en/tags/' %}
  {% else %}
    {% assign tag_base_path = '/ko/tags/' %}
  {% endif %}

  {% assign tags = site.tags | sort %}
  {% for tag in tags %}
    {% assign tag_name = tag | first %}
    {% assign tag_posts = tag | last %}
    {% assign lang_posts = tag_posts | where: "lang", current_lang %}
    {% if lang_posts.size > 0 %}
    <a
      href="{{ tag_base_path }}#{{ tag_name | slugify }}"
      class="tag-item"
      style="font-size: {{ lang_posts.size | times: 2 | plus: 10 }}px;"
      >{{ tag_name }} ({{ lang_posts.size }})</a
    >
    {% endif %}
  {% endfor %}
</div>
